const ids = [
  45252271,
  45252412,
  45252423,
  45252424,
  45252556,
  45252557,
  45252558,
  45252562,
  45252566,
  45252567,
  45252568,
  45252569,
  45252572,
  45252573,
  45252574,
  45252575,
  45252582,
  45252585,
  45252586,
  45252590,
  45252591,
  45252592,
  45252624,
  45252595,
  45252599,
  45252600,
  45252607,
  45252608,
  45252609,
  45252624,
  45252614,
  45252616,
  45252617,
  45252619,
  45252624,
  45252628,
  45252629,
  45252630,
  45252633,
  45252638,
  45252639,
  45252640,
  45252646,
  45252647,
  45252648,
  45252649,
  45252650,
  45252651,
  45252657,
  45252660,
  45252661,
  45252663,
  45252664,
  45252666,
  45252669,
  45252673,
  45252674,
  45252676,
  45252677,
  45252678,
  45252680,
  45252682,
  45252683,
  45252684,
  45252687,
  45252691,
  45252692,
  45252693,
  45252695,
  45252697,
  45252698,
  45252699,
  45252700,
  45252701,
  45252702,
  45252703,
  45252704,
  45252705,
  45252706,
  45252707,
  45252708,
  45252709,
  45252717,
  45252719,
  45252720,
  45252721,
  45252722,
  45252723,
  45252725,
  45252726,
  45252727,
  45252728,
  45252729,
  45252730,
  45252732,
  45252733,
  45252735,
  45252736,
  45252737,
  45252738,
  45252739,
  45252740,
  45252741,
  45252742,
  45252743,
  45252744,
  45252745,
  45252746,
  45252747,
  45252748,
  45252749,
  45252750,
  45252754,
  45252758,
  45252761,
  45252762,
  45252763,
  45252764,
  45252765,
  45252766,
  45252767,
  45252768,
  45252769,
  45252770,
  45252772,
  45252773,
  45252774,
  45252775,
  45252776,
  45252777,
  45252778,
  45252779,
  45252780,
  45252781,
  45252782,
  45252783,
  45252784,
  45252785,
  45252786,
  45252787,
  45252788,
  45252789,
  45252790,
  45252791,
  45252792,
  45252793,
  45252794,
  45252795,
  45252796,
  45252797,
  45252798,
  45252799,
  45252800,
  45252801,
  45252802,
  45252803,
  45252804,
  45252805,
  45252808,
  45252809,
  45252811,
  45252812,
  45252814,
  45252815,
  45252816,
  45252817,
  45252818,
  45252819,
  45252820,
  45252821,
  45252822,
  45252823,
  45252825,
  45252830,
  45252835,
  45252836,
  45252837,
  45252838,
  45252839,
  45252840,
  45252841,
  45252842,
  45252843,
  45252844,
  45252845,
  45252846,
  45252847,
  45252848,
  45252849,
  45252850,
  45252854,
  45252855,
  45252856,
  45252857,
  45252861,
  45252864,
  45252865,
  45252866,
  45252867,
]

const main = async () => {
  for (let i = 0; i < ids.length; i++) {
    const resource = await getResource(ids[i]);
    const res = await saveResource(resource.resourceInfo)
    console.log(res.ResponseStatus.Ack);
  }
};



// 修改 归属业务线 
async function saveResource(resource) {
  const body = {
    "contentType": "json",
    "head": {
      "cid": "09031136118247150038",
      "ctok": "",
      "cver": "1.0",
      "lang": "01",
      "sid": "8888",
      "syscode": "09",
      "auth": "",
      "extension": []
    },
    "resourceInfo": {
      ...resource,
      "baseInfo": {
        ...resource.baseInfo,
        "forProductPattern": [
          1,
          3
        ],
        "forProductCategory": [
          9,
          10
        ],
        "forSaleMode": [
          "P"
        ]
      }
    },
    "customerInfoTemplateOpen": "T"
  }
  const resourceRes = await fetch(
    "https://online.ctrip.com/restapi/soa2/15638/saveResource?_fxpcqlniredt=09031072216594047056&_fxpcqlniredt=09031072216594047056", {
      headers: {
        accept: "*/*",
        "accept-language": "zh-CN,zh;q=0.9",
        "content-type": "application/json",
        cookieorigin: "https://vbooking.ctrip.com",
        "sec-ch-ua": '"Google Chrome";v="123", "Not:A-Brand";v="8", "Chromium";v="123"',
        "sec-ch-ua-mobile": "?0",
        "sec-ch-ua-platform": '"macOS"',
        "sec-fetch-dest": "empty",
        "sec-fetch-mode": "cors",
        "sec-fetch-site": "same-site",
        "x-ctx-locale": "zh-CN",
      },
      referrerPolicy: "no-referrer-when-downgrade",
      body: JSON.stringify(body),
      method: "POST",
      mode: "cors",
      credentials: "include",
    }
  );
  return await resourceRes.json();
}
async function getResource(resourceId) {
  const body = {
    "contentType": "json",
    "head": {
      "cid": "09031136118247150038",
      "ctok": "",
      "cver": "1.0",
      "lang": "01",
      "sid": "8888",
      "syscode": "09",
      "auth": "",
      "extension": []
    },
    "resourceId": resourceId
  }
  const resourceRes = await fetch("https://online.ctrip.com/restapi/soa2/15638/queryResourceInfo?_fxpcqlniredt=09031136118247150038&_fxpcqlniredt=09031136118247150038", {
    "headers": {
      "accept": "*/*",
      "accept-language": "zh-CN,zh;q=0.9",
      "cache-control": "no-cache",
      "content-type": "application/json",
      "cookieorigin": "https://vbooking.ctrip.com",
      "pragma": "no-cache",
      "priority": "u=1, i",
      "sec-ch-ua": "\"Not(A:Brand\";v=\"99\", \"Google Chrome\";v=\"133\", \"Chromium\";v=\"133\"",
      "sec-ch-ua-mobile": "?0",
      "sec-ch-ua-platform": "\"macOS\"",
      "sec-fetch-dest": "empty",
      "sec-fetch-mode": "cors",
      "sec-fetch-site": "same-site",
      "x-ctx-locale": "zh-CN"
    },
    "referrerPolicy": "no-referrer-when-downgrade",
    "body": JSON.stringify(body),
    "method": "POST",
    "mode": "cors",
    "credentials": "include"
  });
  return await resourceRes.json();
}




main();